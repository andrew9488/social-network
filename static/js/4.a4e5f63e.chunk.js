(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{308:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__FhxYh"}},309:function(e,t,a){e.exports={dialog:"Dialog_dialog__vfZZh",dialogItemContainer:"Dialog_dialogItemContainer__3oAht",activeLink:"Dialog_activeLink__3wrI0",dialogItem:"Dialog_dialogItem__3A0vj"}},310:function(e,t,a){e.exports={message:"Message_message__NMOAK",messageText:"Message_messageText__215RR",sendMessageButton:"Message_sendMessageButton__2mVJZ"}},311:function(e,t,a){e.exports={chatContainer:"Chat_chatContainer__1trV7",chatBlock:"Chat_chatBlock__1bCO1"}},324:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a.n(s),i=a(308),o=a.n(i),r=a(309),l=a.n(r),j=a(12),d=a(15),b=a(113),m=n.a.memo((function(e){return Object(c.jsxs)("div",{className:l.a.dialog,children:[e.dialogs.map((function(e){return Object(c.jsx)("div",{className:l.a.dialogItemContainer,children:Object(c.jsx)(j.b,{to:"".concat(d.a.DIALOGS,"/").concat(e.id),activeClassName:l.a.activeLink,children:Object(c.jsxs)("div",{className:l.a.dialogItem,children:[Object(c.jsx)("img",{src:e.img,alt:"avatar"}),Object(c.jsx)("span",{children:e.name})]})})},e.id)})),Object(c.jsx)("div",{className:l.a.dialogItemContainer,children:Object(c.jsx)(j.b,{to:"".concat(d.a.DIALOGS).concat(d.a.CHAT),activeClassName:l.a.activeLink,children:Object(c.jsxs)("div",{className:l.a.dialogItem,children:[Object(c.jsx)("img",{src:b.a,alt:"city-Z"}),Object(c.jsx)("span",{children:"Polesye National Republic"})]})})})]})})),u=a(11),O=a(111),g=a(9),h=Object(g.d)(Object(u.b)((function(e){return{dialogs:e.dialogsPage.dialogs}}),{}),O.a)(m),x=a(310),f=a.n(x),v=a(112),_=a(28),p=n.a.memo((function(e){var t=Object(u.c)(),a=Object(s.useCallback)((function(a){e.sendMessage(a.newText),t(Object(_.a)("formForSendNewText"))}),[e]);return Object(c.jsxs)("div",{className:f.a.message,children:[Object(c.jsx)("div",{className:f.a.messageText,children:e.messages.map((function(e){return Object(c.jsx)("div",{children:e.message},e.id)}))}),Object(c.jsx)(v.a,{onSubmit:a})]})})),N=a(143),C=Object(g.d)(Object(u.b)((function(e){return{messages:e.dialogsPage.messages}}),(function(e){return{sendMessage:function(t){e(Object(N.b)(t))}}})),O.a)(p),I=a(10),k=a(59),T=a(311),w=a.n(T),M=a(146),S=n.a.memo((function(){var e=Object(u.d)((function(e){return e.chat.messages})),t=Object(u.d)((function(e){return e.chat.status})),a=Object(s.useRef)(null),n=Object(u.c)(),i=Object(s.useState)(!0),o=Object(k.a)(i,2),r=o[0],l=o[1];Object(s.useEffect)((function(){return n(Object(M.c)()),function(){n(Object(M.d)())}}),[]),Object(s.useEffect)((function(){var e;r&&(null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]);var j=Object(s.useCallback)((function(e){n(Object(M.b)(e.newText)),n(Object(_.a)("formForSendNewText"))}),[]);return Object(c.jsxs)("div",{className:w.a.chatContainer,children:[Object(c.jsxs)("div",{className:w.a.chatBlock,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop)-t.clientHeight<350?!r&&l(!0):r&&l(!1)},children:[e.map((function(e,t){return Object(c.jsx)(A,{message:e},t+e.userId)})),Object(c.jsx)("div",{ref:a})]}),"error"===t&&Object(c.jsx)("span",{style:{color:"red"},children:"some error"}),Object(c.jsx)(v.a,{disable:"ready"!==t,onSubmit:j})]})})),A=function(e){var t=e.message;return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:t.photo,alt:"userPhoto",style:{width:"30px"}})," ",Object(c.jsx)("b",{children:t.userName}),Object(c.jsx)("br",{}),t.message,Object(c.jsx)("hr",{})]})},D=n.a.memo((function(){var e=Object(I.g)();return Object(c.jsxs)("div",{className:o.a.dialogs,children:[Object(c.jsx)("div",{children:Object(c.jsx)(h,{})}),e.location.pathname==="".concat(d.a.DIALOGS).concat(d.a.CHAT)?Object(c.jsx)(S,{}):Object(c.jsx)(C,{})]})}));t.default=D}}]);
//# sourceMappingURL=4.a4e5f63e.chunk.js.map