(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{311:function(e,t,r){e.exports={usersPage:"Users_usersPage__3EiO7",container:"Users_container__1wJvV"}},312:function(e,t,r){e.exports={user:"User_user__u-ni-",userAvatar:"User_userAvatar__2YTUN",userData:"User_userData__15nCn",name:"User_name__32ePm",status:"User_status__2z335",location:"User_location__1EDt4"}},313:function(e,t,r){e.exports={paginator:"Paginator_paginator__2h5rT",currentPage:"Paginator_currentPage__2jLvZ"}},324:function(e,t,r){"use strict";r.r(t);var n=r(4),s=r(40),a=r(41),i=r(46),c=r(44),o=r(0),u=r(11),l=r(145),g=r(1),j=r.n(g),f=r(311),b=r.n(f),d=r(47),p=r(312),m=r.n(p),h=r(12),O=r(77),P=r(14),C=j.a.memo((function(e){return Object(o.jsxs)("div",{className:m.a.user,children:[Object(o.jsx)("div",{className:m.a.userAvatar,children:Object(o.jsx)(h.b,{to:"".concat(P.a.PROFILE,"/").concat(e.user.id),children:Object(o.jsx)("img",{src:null!==e.user.photos.small?e.user.photos.small:O.a,alt:"avatar"})})}),Object(o.jsxs)("div",{className:m.a.userData,children:[Object(o.jsx)("span",{className:m.a.name,children:e.user.name}),Object(o.jsx)("span",{className:m.a.status,children:null!==e.user.status?e.user.status:"I have not status"})]}),Object(o.jsxs)("div",{children:[e.user.followed?Object(o.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unFollowTC(e.user.id)},children:"unfollow"}):Object(o.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.followTC(e.user.id)},children:"follow"}),Object(o.jsx)("button",{children:"message"})]})]})})),x=r(59),_=r(313),v=r.n(_),w=j.a.memo((function(e){for(var t=Object(g.useState)(1),r=Object(x.a)(t,2),n=r[0],s=r[1],a=Math.ceil(e.totalCount/e.pageSize),i=[],c=1;c<=a;c++)i.push(c);var u=Math.ceil(a/10),l=10*(n-1)+1,j=10*n;return Object(o.jsxs)("div",{className:v.a.paginator,children:[n>1&&Object(o.jsx)("button",{onClick:function(){return s(n-1)},children:"<"}),i.filter((function(e){return e>=l&&e<=j})).map((function(t,r){return Object(o.jsx)("span",{onClick:function(){e.onClickCurrentPage(t)},className:e.currentPage===t?v.a.currentPage:"",children:t},r)})),u>n&&Object(o.jsx)("button",{onClick:function(){return s(n+1)},children:">"})]})})),U=r(321),k=j.a.memo((function(e){return Object(o.jsx)(U.c,{enableReinitialize:!0,initialValues:{term:e.term,friend:e.friend},onSubmit:function(t){e.getUsers(1,e.pageSize,t.term,t.friend)},children:Object(o.jsxs)(U.b,{children:[Object(o.jsx)(U.a,{type:"text",name:"term",autoComplete:"off"}),Object(o.jsxs)(U.a,{as:"select",name:"friend",children:[Object(o.jsx)("option",{value:"null",children:"All"}),Object(o.jsx)("option",{value:"true",children:"Followed"}),Object(o.jsx)("option",{value:"false",children:"Unfollowed"})]}),Object(o.jsx)("button",{type:"submit",children:"find"})]})})})),S=r(10),T=r(317),z=j.a.memo((function(e){var t=Object(S.g)();return Object(g.useEffect)((function(){var r=T.parse(t.location.search.substr(1)),n=e.currentPage,s=null!==e.term?e.term:"",a=e.friend;switch(r.page&&(n=Number(r.page)),r.term&&(s=r.term),r.friend){case"null":a=null;break;case"true":a=!0;break;case"false":a=!1}e.getUsersTC(n,e.pageSize,s,a)}),[]),Object(g.useEffect)((function(){var r={};e.term&&(r.term=e.term),null!==e.friend&&(r.friend=String(e.friend)),1!==e.currentPage&&(r.page=String(e.currentPage)),t.push({pathname:P.a.USERS,search:T.stringify(r)})}),[e.term,e.friend,e.currentPage]),Object(o.jsxs)("div",{className:b.a.usersPage,children:[Object(o.jsx)(k,{getUsers:e.getUsersTC,pageSize:e.pageSize,term:e.term,friend:e.friend}),Object(o.jsx)(w,{totalCount:e.totalCount,pageSize:e.pageSize,onClickCurrentPage:e.onClickCurrentPage,currentPage:e.currentPage}),e.isFetching?Object(o.jsx)(d.a,{}):Object(o.jsx)("div",{className:b.a.container,children:e.usersPage.map((function(t){return Object(o.jsx)(C,{user:t,followingInProgress:e.followingInProgress,followTC:e.followTC,unFollowTC:e.unFollowTC},t.id)}))})]})})),N=r(111),F=r(9),y=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onClickCurrentPage=function(t){e.props.getUsersTC(t,e.props.pageSize,e.props.term,e.props.friend)},e}return Object(a.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsersTC(this.props.currentPage,this.props.pageSize,"",null)}},{key:"render",value:function(){return Object(o.jsx)(j.a.Fragment,{children:Object(o.jsx)(z,Object(n.a)(Object(n.a)({},this.props),{},{onClickCurrentPage:this.onClickCurrentPage}))})}}]),r}(j.a.PureComponent);t.default=Object(F.d)(Object(u.b)((function(e){return{usersPage:e.usersPage.users,pageSize:e.usersPage.pageSize,totalCount:e.usersPage.totalCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress,disableButton:e.usersPage.disableButton,term:e.usersPage.filter.term,friend:e.usersPage.filter.friend}}),{getUsersTC:l.c,followTC:l.b,unFollowTC:l.d}),N.a)(y)}}]);
//# sourceMappingURL=5.69f4820a.chunk.js.map